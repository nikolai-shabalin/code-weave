# Введение

Этот стандарт Ecma определяет язык ECMAScript 2023. Это четырнадцатое издание спецификации языка ECMAScript. С момента публикации первого издания в 1997 году ECMAScript стал одним из наиболее широко используемых в мире языков программирования общего назначения. Он наиболее известен как язык, встроенный в веб-браузеры, но также широко используется в серверных и встраиваемых приложениях.

ECMAScript основан на нескольких исходных технологиях, наиболее известными из которых являются JavaScript (Netscape) и JScript (Microsoft). Язык был изобретен Бренданом Эйхом в компании Netscape и впервые появился в браузере Navigator 2.0 этой компании. Он появился во всех последующих браузерах от Netscape и во всех браузерах от Microsoft, начиная с Internet Explorer 3.0.

Разработка спецификации языка ECMAScript началась в ноябре 1996 года. Первая редакция этого стандарта Ecma была принята на Генеральной ассамблее Ecma в июне 1997 года.

Этот стандарт Ecma был представлен в ISO/IEC JTC 1 для принятия по ускоренной процедуре и утвержден в качестве международного стандарта ISO/IEC 16262 в апреле 1998 года. Генеральная ассамблея Ecma в июне 1998 года одобрила второе издание ECMA-262, чтобы сохранить его полную согласованность с ISO/IEC 16262. Изменения между первым и вторым изданием носят редакционный характер.

В третьем издании стандарта появились мощные регулярные выражения, улучшенная обработка строк, новые управляющие операторы, обработка исключений try/catch, более строгое определение ошибок, форматирование числового вывода и незначительные изменения в преддверии будущего развития языка. Третья редакция стандарта ECMAScript была принята на Генеральной ассамблее Ecma в декабре 1999 года и опубликована как ISO/IEC 16262:2002 в июне 2002 года.

После публикации третьего издания ECMAScript получил массовое распространение в связи с появлением Всемирной паутины, где он стал языком программирования, поддерживаемым практически всеми веб-браузерами. Была проведена значительная работа по созданию четвертого издания ECMAScript. Однако эта работа не была завершена и не была опубликована в качестве четвертого издания ECMAScript, но часть ее была включена в разработку шестого издания.

Пятое издание ECMAScript (опубликовано как ECMA-262 5th edition) кодифицировало фактические интерпретации спецификации языка, ставшие общепринятыми среди реализаций браузеров, и добавило поддержку новых возможностей, появившихся с момента публикации третьего издания. К таким возможностям относятся свойства-аксессоры, рефлексивное создание и проверка объектов, программный контроль атрибутов свойств, дополнительные функции манипулирования массивами, поддержка формата кодирования объектов JSON, а также строгий режим, обеспечивающий улучшенную проверку ошибок и безопасность программы. Пятое издание было принято на Генеральной ассамблее Ecma в декабре 2009 года.

Пятое издание было представлено в ISO/IEC JTC 1 для принятия по ускоренной процедуре и утверждено в качестве международного стандарта ISO/IEC 16262:2011. В издание 5.1 стандарта ECMAScript были внесены незначительные исправления, и оно представляет собой тот же текст, что и ISO/IEC 16262:2011. Редакция 5.1 была принята на Генеральной ассамблее Ecma в июне 2011 года.

Целенаправленная разработка шестого издания началась в 2009 году, когда пятое издание готовилось к публикации. Однако этому предшествовали значительные эксперименты и усилия по совершенствованию языка, начиная с публикации третьего издания в 1999 году. В самом деле, завершение работы над шестым изданием - это кульминация пятнадцатилетних усилий. Цели этого издания заключались в обеспечении лучшей поддержки больших приложений, создании библиотек и использовании ECMAScript в качестве цели компиляции для других языков. Среди основных усовершенствований - модули, объявления классов, лексическое разбиение блоков, итераторы и генераторы, обещания для асинхронного программирования, шаблоны деструктуризации и правильные вызовы хвостов. Библиотека встроенных модулей ECMAScript была расширена для поддержки дополнительных абстракций данных, включая карты, множества и массивы двоичных числовых значений, а также дополнительную поддержку дополнительных символов Unicode в строках и регулярных выражениях. Встроенные модули также стали расширяемыми за счет подклассификации. Шестое издание закладывает основу для регулярных, постепенных улучшений языка и библиотек. Шестое издание было принято Генеральной ассамблеей в июне 2015 года.

ECMAScript 2016 стал первой редакцией ECMAScript, выпущенной в соответствии с новой ежегодной периодичностью выпуска Ecma TC39 и открытым процессом разработки. На основе исходного документа ECMAScript 2015 был создан текстовый исходный документ, который послужил основой для дальнейшей разработки полностью на GitHub. За год разработки этого стандарта были поданы сотни запросов на исправление ошибок и проблем, в которых были представлены тысячи исправлений ошибок, редакционных исправлений и других улучшений. Кроме того, было разработано множество программных инструментов для помощи в этой работе, включая Ecmarkup, Ecmarkdown и Grammarkdown. В ES2016 также появилась поддержка нового оператора экспоненции и добавлен новый метод в Array.prototype под названием includes.

В ECMAScript 2017 появились функции Async, общая память и атомики, а также более мелкие улучшения языка и библиотек, исправления ошибок и редакционные обновления. Асинхронные функции улучшают возможности асинхронного программирования, предоставляя синтаксис для функций с возвратом обещания. Shared Memory и Atomics представляют новую модель памяти, которая позволяет мультиагентным программам взаимодействовать с помощью атомарных операций, обеспечивающих четко определенный порядок выполнения даже на параллельных процессорах. Также в него вошли новые статические методы на Object: Object.values, Object.entries и Object.getOwnPropertyDescriptors.

В ECMAScript 2018 появилась поддержка асинхронной итерации с помощью протокола AsyncIterator и асинхронных генераторов. Также в нем появились четыре новых функции регулярных выражений: флаг dotAll, именованные группы захвата, экранирование свойств Unicode и утверждения look-behind. И, наконец, в состав вошли свойства object rest и spread.

В ECMAScript 2019 появилось несколько новых встроенных функций: flat и flatMap в Array.prototype для сглаживания массивов, Object.fromEntries для прямого превращения возвращаемого значения Object.entries в новый объект, а также trimStart и trimEnd в String.prototype в качестве альтернативы широко распространенным, но нестандартным встроенным функциям String.prototype.trimLeft и trimRight с лучшими названиями. Кроме того, в него вошли несколько незначительных обновлений синтаксиса и семантики. Обновленный синтаксис включает необязательные параметры привязки catch и разрешение U+2028 (LINE SEPARATOR) и U+2029 (PARAGRAPH SEPARATOR) в строковых литералах для согласования с JSON. Другие обновления включают требование, чтобы Array.prototype.sort была стабильной сортировкой, требование, чтобы JSON.stringify возвращала хорошо сформированный UTF-8 независимо от входных данных, и уточнение Function.prototype.toString, требующее, чтобы она возвращала либо соответствующий исходный текст, либо стандартный плагин.

В 11-й редакции ECMAScript 2020 появился метод matchAll для строк, позволяющий получить итератор для всех объектов соответствия, сгенерированных глобальным регулярным выражением; import() - синтаксис для асинхронного импорта модулей с динамическим спецификатором; BigInt - новый числовой примитив для работы с целыми числами произвольной точности; Promise.allSettled, новый комбинатор Promise, который не замыкается; globalThis, универсальный способ доступа к глобальному значению this; специальный синтаксис export * as ns from 'module' для использования внутри модулей; повышенная стандартизация порядка перечисления for-in; import.meta, заполняемый хостом объект, доступный в модулях, который может содержать контекстную информацию о модуле; а также добавление двух новых синтаксических функций для улучшения работы с "нулевыми" значениями (null или undefined): nullish coalescing, оператор выбора значения; и optional chaining, оператор доступа к свойствам и вызовам функций, который замыкается, если значение для доступа/вызова является нулевым.

В 12-й редакции ECMAScript 2021 появился метод replaceAll для строк; Promise.any - комбинатор Promise, который замыкается при выполнении входного значения; AggregateError - новый тип Error для представления нескольких ошибок одновременно; логические операторы присваивания (???=, &&=, ||=); WeakRef, позволяющий ссылаться на целевой объект, не сохраняя его от сборки мусора, и FinalizationRegistry, управляющий регистрацией и снятием с регистрации операций очистки, выполняемых при сборке мусора; разделители для числовых литералов (1_000); Array.prototype.sort стал более точным, сократив количество случаев, когда порядок сортировки зависит от реализации.

В 13-м издании ECMAScript 2022 появились верхнеуровневые await, позволяющие использовать ключевое слово на верхнем уровне модулей; новые элементы классов: public и private поля экземпляра, public и private статические поля, private методы и аксессоры экземпляра и private статические методы и аксессоры; статические блоки внутри классов для выполнения инициализации оценок каждого класса; синтаксис #x в obj для проверки наличия приватных полей у объектов; индексы совпадения регулярных выражений с помощью флага /d, который предоставляет начальный и конечный индексы для совпадающих подстрок; свойство cause у объектов Error, которое можно использовать для записи цепочки причин ошибок; метод at для строк, массивов и TypedArrays, который позволяет выполнять относительную индексацию; и Object.hasOwn, удобная альтернатива Object.prototype.hasOwnProperty.

В 14-й редакции ECMAScript 2023 появились методы toSorted, toReversed, with, findLast и findLastIndex в Array.prototype и TypedArray.prototype, а также метод toSpliced в Array.prototype; добавлена поддержка комментариев #! в начале файлов для более удобного использования исполняемых файлов ECMAScript; разрешено использование большинства Symbols в качестве ключей в слабых коллекциях.

Десятки людей, представляющих многие организации, внесли очень значительный вклад в рамках Ecma TC39 в разработку этого издания и предыдущих изданий. Кроме того, возникло активное сообщество, поддерживающее усилия TC39 по разработке ECMAScript. Это сообщество рассмотрело множество черновиков, подало тысячи сообщений об ошибках, провело эксперименты по внедрению, предоставило наборы тестов и просветило мировое сообщество разработчиков о ECMAScript. К сожалению, невозможно определить и отметить каждого человека и организацию, которые внесли свой вклад в эту работу.
